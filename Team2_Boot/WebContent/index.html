<!doctype html>
<html lang="en">

<head>
    <title>TEAM2</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>

    <!-- fontawesome.com -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <!--CSS-->
    <link rel="stylesheet" href="css/style_kakaotalk.css">

    <script>
        var messages = [{
            name: "덥지않니?",
            imagePath: "img/main/KakaoTalk_lee.jpg",
            talks: ["애들아 개인 홈페이지 링크 빨리 올려"],
            links: {
                h: "index_lee.html",
                v: "http://www.uckjae.com"
            },
            position: "right"
        }, {
            name: "반말인편",
            imagePath: "img/main/KakaoTalk_yoon.jpg",
            talks: [],
            links: {
                h: "index_yoon.html",
                v: "http://www.dajeong.com"
            },
            position: "left"
        }, {
            name: "예서엄마",
            imagePath: "img/main/KakaoTalk_chung.jpg",
            talks: [],
            links: {
                h: "index_choi.html",
                v: "http://www.euna.com"
            },
            position: "left"
        }, {
            name: "도박패망",
            imagePath: "img/main/KakaoTalk_won.jpg",
            talks: [],
            links: {
                h: "index_won.html",
                v: "http://www.boyeon.com"
            },
            position: "left"
        }, {
            name: "비행중년",
            imagePath: "img/main/KakaoTalk_kim.jpg",
            talks: [],
            links: {
                h: "index_kim.html",
                v: "http://www.ilgyeom.com"
            },
            position: "left"
        }, {
            name: "덥지않니?",
            imagePath: "img/main/KakaoTalk_lee.jpg",
            talks: ["경열 어디야 수업 곧 시작함"],
            position: "right"
        }, {
            name: "지각머슬",
            imagePath: "img/main/KakaoTalk_choi.jpg",
            talks: ["다이소유"],
            links: {
                h: "index_choi.html",
                v: "http://www.kyungyeul.com"
            },
            position: "left"
        }];

        window.onload = function () {
            var interval = 0;
            for (var index in messages) {
                interval++;
                loop(messages[index], interval);
            }
        }

        function loop(msg, interval) {
            setTimeout(function () {
                var classValue = "";
                var classValue2 = "";
                if (msg.position === "left") {
                    classValue = "kakao L";
                    classValue2 = "talkLbox";
                } else {
                    classValue = "kakao R";
                    classValue2 = "talkRbox";
                }

                var main = document.getElementById("main");

                //프로필
                var profileControl = document.createElement("div");
                profileControl.setAttribute("class", classValue);

                var subControl = document.createElement("sup");
                subControl.innerHTML = msg.name;

                var imageControl = document.createElement("img");
                imageControl.setAttribute("src", msg.imagePath);

                if (msg.position === "left") {
                    profileControl.appendChild(imageControl);
                    profileControl.appendChild(subControl);
                } else {
                    profileControl.appendChild(subControl);
                    profileControl.appendChild(imageControl);
                }
                main.appendChild(profileControl);

                var messageControls = [];
                for (var index in msg.talks) {
                    var messageControl = document.createElement("div");
                    messageControl.setAttribute("class", classValue2);
                    messageControl.innerHTML = msg.talks[index];
                    messageControls.push(messageControl);
                }

                if (msg.links != undefined) {
                    var messageControl = document.createElement("div");
                    messageControl.setAttribute("class", classValue2);
                    var aControl = document.createElement("a");
                    aControl.setAttribute("href", msg.links.h);
                    aControl.innerHTML = msg.links.v;
                    messageControl.appendChild(aControl);
                    messageControls.push(messageControl);
                }

                messageControls[messageControls.length - 1].setAttribute("style", "margin-bottom:0")
                messageControls.forEach(x => main.appendChild(x));
            }, interval * 1000);
        }
    </script>
</head>

<body style="background-color: lightgray;">
    <div class="main" id="main">

    </div>
</body>

</html>